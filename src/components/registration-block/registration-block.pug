include ../site-input/site-input
include ../site-radio/site-radio
include ../site-checkbox/site-checkbox
include ../site-fieldset/site-fieldset
include ../site-button/site-button

//TODO: Отправка данных на сервер
mixin registration-block(obj = {})
  -
    let buttonText = "Зарегистрироваться";
    if(obj.modifiers && obj.modifiers.paymentLink) buttonText = "Перейти к оплате"

  article.registration-block
    h2.registration-block__heading Регистрация аккаунта
    .registration-block__body
      form.registration-block__form
        +site-fieldset("Личные данные", {fieldset: "hidden"})
          +site-input({label: "Имя", id: "reg-first-name", name: "name", text: "Имя", required: true, modifiers: {label: "hidden"}})
          +site-input({label: "Фамилия", id: "reg-last-name", name: "lastname", text: "Фамилия", required: true, modifiers: {label: "hidden"}})
          +site-radio-group({options: [
              {label: "Мужчина", id: "reg-man", name: "sex", value: "man", checked: true},
              {label: "Женщина", id: "reg-woman", name: "sex", value: "woman"}
            ]})
          +site-input({label: "Дата Рождения", id: "reg-date-of-birth", name: "birthday", text: "ДД.ММ.ГГГГ", required: true, modifiers: {datemask: true}})
        +site-fieldset("Данные для входа в сервис")
          +site-input({label: "Email", id: "reg-email", name: "email", type: "email", text: "Email", required: true, modifiers: {label: "hidden"}})
          +site-input({label: "Пароль", id: "reg-password", name: "password", type: "password", text: "Пароль", required: true, modifiers: {label: "hidden"}})
        +site-checkbox-group({options: [
            {label: "Получать спецпредложения", id: "reg-offers", name: "specialOffers"}],
             modifiers: {toggle: true}})
        +site-button({tag: "button", text: buttonText, type: "submit", modifiers: {primary: true, flexible: true, icon: "arrow"}})
    footer.registration-block__footer
      span.registration-block__already-have Уже есть аккаунт на Toxin
      +site-button({tag: "a", text: "Войти", modifiers: {rounded: true, block: true}})
